<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600" fill="none" role="img" aria-labelledby="archTitle archDesc">
  <title id="archTitle">Copy Trading Architecture</title>
  <desc id="archDesc">System architecture diagram showing data flow from Polymarket API through Wallet Tracker, Position Sizer, and Risk Manager components to outputs including Google Sheets dashboard, Discord alerts, SQLite database, and console output.</desc>
  <defs>
    <linearGradient id="bgGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#0f0f23"/>
      <stop offset="100%" style="stop-color:#1a1a3e"/>
    </linearGradient>
    <linearGradient id="apiGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#6366f1"/>
      <stop offset="100%" style="stop-color:#8b5cf6"/>
    </linearGradient>
    <linearGradient id="coreGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10b981"/>
      <stop offset="100%" style="stop-color:#059669"/>
    </linearGradient>
    <linearGradient id="outputGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f59e0b"/>
      <stop offset="100%" style="stop-color:#d97706"/>
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="0" dy="4" stdDeviation="8" flood-color="#000" flood-opacity="0.3"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="900" height="600" fill="url(#bgGrad)"/>

  <!-- Title -->
  <text x="450" y="45" font-family="system-ui, -apple-system, sans-serif" font-size="24" font-weight="bold" fill="#fff" text-anchor="middle">Copy Trading Architecture</text>

  <!-- DATA SOURCE LAYER -->
  <text x="50" y="95" font-family="system-ui, sans-serif" font-size="14" fill="#d1d5db" font-weight="600">DATA SOURCE</text>

  <!-- Polymarket API Box -->
  <rect x="50" y="110" width="180" height="100" rx="12" fill="url(#apiGrad)" filter="url(#shadow)"/>
  <text x="140" y="145" font-family="system-ui, sans-serif" font-size="14" font-weight="bold" fill="#fff" text-anchor="middle">Polymarket API</text>
  <text x="140" y="165" font-family="system-ui, sans-serif" font-size="11" fill="#e0e7ff" text-anchor="middle">(Gamma API)</text>
  <text x="140" y="190" font-family="system-ui, sans-serif" font-size="10" fill="#c7d2fe" text-anchor="middle">Positions • Prices • Markets</text>

  <!-- Arrow 1 -->
  <path d="M240 160 L290 160" stroke="#6366f1" stroke-width="3" marker-end="url(#arrowhead)"/>
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#6366f1"/>
    </marker>
  </defs>

  <!-- CORE ENGINE LAYER -->
  <text x="310" y="95" font-family="system-ui, sans-serif" font-size="14" fill="#d1d5db" font-weight="600">CORE ENGINE</text>

  <!-- Wallet Tracker -->
  <rect x="310" y="110" width="140" height="70" rx="10" fill="url(#coreGrad)" filter="url(#shadow)"/>
  <text x="380" y="140" font-family="system-ui, sans-serif" font-size="12" font-weight="bold" fill="#fff" text-anchor="middle">Wallet Tracker</text>
  <text x="380" y="160" font-family="system-ui, sans-serif" font-size="10" fill="#d1fae5" text-anchor="middle">Monitor whale positions</text>

  <!-- Position Sizer -->
  <rect x="310" y="195" width="140" height="70" rx="10" fill="url(#coreGrad)" filter="url(#shadow)"/>
  <text x="380" y="225" font-family="system-ui, sans-serif" font-size="12" font-weight="bold" fill="#fff" text-anchor="middle">Position Sizer</text>
  <text x="380" y="245" font-family="system-ui, sans-serif" font-size="10" fill="#d1fae5" text-anchor="middle">Proportional scaling</text>

  <!-- Risk Manager -->
  <rect x="310" y="280" width="140" height="70" rx="10" fill="url(#coreGrad)" filter="url(#shadow)"/>
  <text x="380" y="310" font-family="system-ui, sans-serif" font-size="12" font-weight="bold" fill="#fff" text-anchor="middle">Risk Manager</text>
  <text x="380" y="330" font-family="system-ui, sans-serif" font-size="10" fill="#d1fae5" text-anchor="middle">Limits &amp; cooldowns</text>

  <!-- Copy Engine -->
  <rect x="480" y="170" width="160" height="130" rx="12" fill="#1f2937" stroke="#10b981" stroke-width="2" filter="url(#shadow)"/>
  <text x="560" y="205" font-family="system-ui, sans-serif" font-size="14" font-weight="bold" fill="#10b981" text-anchor="middle">Copy Engine</text>
  <text x="560" y="230" font-family="system-ui, sans-serif" font-size="10" fill="#d1d5db" text-anchor="middle">Entry/Exit Detection</text>
  <text x="560" y="250" font-family="system-ui, sans-serif" font-size="10" fill="#d1d5db" text-anchor="middle">Size Calculation</text>
  <text x="560" y="270" font-family="system-ui, sans-serif" font-size="10" fill="#d1d5db" text-anchor="middle">Trade Execution</text>

  <!-- Arrows to Copy Engine -->
  <path d="M450 145 L480 200" stroke="#10b981" stroke-width="2"/>
  <path d="M450 230 L480 230" stroke="#10b981" stroke-width="2"/>
  <path d="M450 315 L480 260" stroke="#10b981" stroke-width="2"/>

  <!-- OUTPUT LAYER -->
  <text x="680" y="95" font-family="system-ui, sans-serif" font-size="14" fill="#d1d5db" font-weight="600">OUTPUTS</text>

  <!-- Arrow from Copy Engine -->
  <path d="M640 235 L680 235" stroke="#f59e0b" stroke-width="3"/>

  <!-- Google Sheets -->
  <rect x="700" y="110" width="150" height="60" rx="8" fill="url(#outputGrad)" filter="url(#shadow)"/>
  <text x="775" y="137" font-family="system-ui, sans-serif" font-size="12" font-weight="bold" fill="#fff" text-anchor="middle">Google Sheets</text>
  <text x="775" y="155" font-family="system-ui, sans-serif" font-size="10" fill="#fef3c7" text-anchor="middle">4-Tab Dashboard</text>

  <!-- Discord -->
  <rect x="700" y="185" width="150" height="60" rx="8" fill="url(#outputGrad)" filter="url(#shadow)"/>
  <text x="775" y="212" font-family="system-ui, sans-serif" font-size="12" font-weight="bold" fill="#fff" text-anchor="middle">Discord Alerts</text>
  <text x="775" y="230" font-family="system-ui, sans-serif" font-size="10" fill="#fef3c7" text-anchor="middle">Trade &amp; Risk Notifications</text>

  <!-- SQLite -->
  <rect x="700" y="260" width="150" height="60" rx="8" fill="url(#outputGrad)" filter="url(#shadow)"/>
  <text x="775" y="287" font-family="system-ui, sans-serif" font-size="12" font-weight="bold" fill="#fff" text-anchor="middle">SQLite Database</text>
  <text x="775" y="305" font-family="system-ui, sans-serif" font-size="10" fill="#fef3c7" text-anchor="middle">Trade History &amp; P&amp;L</text>

  <!-- Console -->
  <rect x="700" y="335" width="150" height="60" rx="8" fill="url(#outputGrad)" filter="url(#shadow)"/>
  <text x="775" y="362" font-family="system-ui, sans-serif" font-size="12" font-weight="bold" fill="#fff" text-anchor="middle">Console Output</text>
  <text x="775" y="380" font-family="system-ui, sans-serif" font-size="10" fill="#fef3c7" text-anchor="middle">Rich CLI Display</text>

  <!-- Output connections -->
  <path d="M680 235 L700 140" stroke="#f59e0b" stroke-width="2"/>
  <path d="M680 235 L700 215" stroke="#f59e0b" stroke-width="2"/>
  <path d="M680 235 L700 290" stroke="#f59e0b" stroke-width="2"/>
  <path d="M680 235 L700 365" stroke="#f59e0b" stroke-width="2"/>

  <!-- DEPLOYMENT LAYER -->
  <text x="50" y="420" font-family="system-ui, sans-serif" font-size="14" fill="#d1d5db" font-weight="600">DEPLOYMENT</text>

  <!-- Docker -->
  <rect x="50" y="440" width="130" height="80" rx="8" fill="#1e3a8a" filter="url(#shadow)"/>
  <text x="115" y="475" font-family="system-ui, sans-serif" font-size="12" font-weight="bold" fill="#93c5fd" text-anchor="middle">Docker</text>
  <text x="115" y="500" font-family="system-ui, sans-serif" font-size="10" fill="#bfdbfe" text-anchor="middle">Containerized</text>

  <!-- Cloud Run -->
  <rect x="200" y="440" width="130" height="80" rx="8" fill="#1e3a8a" filter="url(#shadow)"/>
  <text x="265" y="475" font-family="system-ui, sans-serif" font-size="12" font-weight="bold" fill="#93c5fd" text-anchor="middle">Cloud Run</text>
  <text x="265" y="500" font-family="system-ui, sans-serif" font-size="10" fill="#bfdbfe" text-anchor="middle">Managed Scaling</text>

  <!-- Health Server -->
  <rect x="350" y="440" width="130" height="80" rx="8" fill="#1e3a8a" filter="url(#shadow)"/>
  <text x="415" y="475" font-family="system-ui, sans-serif" font-size="12" font-weight="bold" fill="#93c5fd" text-anchor="middle">Health Server</text>
  <text x="415" y="500" font-family="system-ui, sans-serif" font-size="10" fill="#bfdbfe" text-anchor="middle">/health endpoint</text>

  <!-- DATA FLOW Legend -->
  <rect x="550" y="440" width="300" height="110" rx="8" fill="#1f2937" stroke="#374151" stroke-width="1"/>
  <text x="570" y="465" font-family="system-ui, sans-serif" font-size="12" font-weight="bold" fill="#fff">Data Flow</text>
  <circle cx="580" cy="490" r="6" fill="#6366f1"/>
  <text x="600" y="494" font-family="system-ui, sans-serif" font-size="10" fill="#d1d5db">API calls (30s intervals)</text>
  <circle cx="580" cy="515" r="6" fill="#10b981"/>
  <text x="600" y="519" font-family="system-ui, sans-serif" font-size="10" fill="#d1d5db">Position analysis &amp; sizing</text>
  <circle cx="580" cy="540" r="6" fill="#f59e0b"/>
  <text x="600" y="544" font-family="system-ui, sans-serif" font-size="10" fill="#d1d5db">Output &amp; notifications</text>
</svg>
